<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Game v1.0</title>
    <link rel="stylesheet" href="styles.css?v=21">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
</head>

<body>
    <!-- Start Page: Mode Selection -->
    <div id="startPage" class="page active">
        <div class="container start-container">
            <h1 class="game-title">Word Game</h1>
            <div class="start-controls">
                <div class="wordlist-selector-large">
                    <label for="startWordlistSelect">ËØçÂ∫ìÈÄâÊã©:</label>
                    <select id="startWordlistSelect">
                        <option value="cet6">ÂÖ≠Á∫ß</option>
                        <option value="ielts">ÈõÖÊÄù</option>
                        <option value="x">X</option>
                    </select>
                </div>
                <div class="mode-buttons">
                    <button id="startSinglePlayerBtn" class="mode-btn-large">Âçï‰∫∫</button>
                    <button id="startMultiPlayerBtn" class="mode-btn-large">Âèå‰∫∫</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Single Player Game Page -->
    <div id="singleGamePage" class="page">
        <div class="container">
            <div class="top-controls">
                <button id="backToStartBtn" class="back-btn">‚Üê ËøîÂõû</button>
                <div class="wordlist-selector">
                    <label for="wordlistSelect">ËØçÂ∫ìÈÄâÊã©:</label>
                    <select id="wordlistSelect">
                        <option value="cet6">ÂÖ≠Á∫ß</option>
                        <option value="ielts">ÈõÖÊÄù</option>
                        <option value="x">X</option>
                    </select>
                </div>
                <button id="newGameBtn" class="new-game-button">NEW</button>
            </div>

            <!-- Game Grids Container -->
            <div class="game-container">
                <div class="player-section">
                    <div id="gameGrid" class="game-grid"></div>
                    <!-- Keyboard only shows for current player -->
                    <div id="keyboard" class="keyboard">
                        <div class="keyboard-row">
                            <button class="key" data-key="Q">Q</button>
                            <button class="key" data-key="W">W</button>
                            <button class="key" data-key="E">E</button>
                            <button class="key" data-key="R">R</button>
                            <button class="key" data-key="T">T</button>
                            <button class="key" data-key="Y">Y</button>
                            <button class="key" data-key="U">U</button>
                            <button class="key" data-key="I">I</button>
                            <button class="key" data-key="O">O</button>
                            <button class="key" data-key="P">P</button>
                            <button id="backspaceBtn" class="key backspace-key">‚å´</button>
                        </div>
                        <div class="keyboard-row">
                            <button class="key" data-key="A">A</button>
                            <button class="key" data-key="S">S</button>
                            <button class="key" data-key="D">D</button>
                            <button class="key" data-key="F">F</button>
                            <button class="key" data-key="G">G</button>
                            <button class="key" data-key="H">H</button>
                            <button class="key" data-key="J">J</button>
                            <button class="key" data-key="K">K</button>
                            <button class="key" data-key="L">L</button>
                        </div>
                        <div class="keyboard-row">
                            <button class="key" data-key="Z">Z</button>
                            <button class="key" data-key="X">X</button>
                            <button class="key" data-key="C">C</button>
                            <button class="key" data-key="V">V</button>
                            <button class="key" data-key="B">B</button>
                            <button class="key" data-key="N">N</button>
                            <button class="key" data-key="M">M</button>
                            <button id="enterBtn" class="key enter-key">ENTER</button>
                        </div>
                    </div>
                </div>
                <div id="message" class="message"></div>
            </div>
        </div>
    </div>

    <!-- Multiplayer Room Page -->
    <div id="multiplayerRoomPage" class="page">
        <div class="container" style="background-color: white; padding: 40px; border: 2px solid red;">
            <div class="top-controls">
                <button id="backToStartBtn2" class="back-btn">‚Üê ËøîÂõû</button>
            </div>
            <div class="room-controls-large" style="background-color: #f0f0f0; padding: 20px; border: 2px solid blue;">
                <h2 class="room-title" style="color: #333; font-size: 2em;">Âèå‰∫∫ÂØπÊàò</h2>
                <div class="room-section-large">
                    <button id="createRoomBtn" class="room-btn-large">ÂàõÂª∫ÊàøÈó¥</button>
                    <div class="room-divider">Êàñ</div>
                    <div class="room-input-group-large">
                        <input type="text" id="roomIdInput" placeholder="ËæìÂÖ•ÊàøÈó¥ID" maxlength="6">
                        <button id="joinRoomBtn" class="room-btn-large">Âä†ÂÖ•ÊàøÈó¥</button>
                    </div>
                </div>
                <div id="roomInfo" class="room-info" style="display: none;">
                    <div class="room-id-display">
                        <span>ÊàøÈó¥ID: </span>
                        <span id="roomIdDisplay" class="room-id-value"></span>
                        <button id="copyRoomIdBtn" class="copy-btn">Â§çÂà∂</button>
                    </div>
                    <div id="roomStatus" class="room-status"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Multiplayer Game Page -->
    <div id="multiplayerGamePage" class="page">
        <div class="container">
            <div class="top-controls">
                <button id="backToRoomBtn" class="back-btn">‚Üê ËøîÂõûÊàøÈó¥</button>
                <div class="wordlist-selector">
                    <label for="wordlistSelectMulti">ËØçÂ∫ìÈÄâÊã©:</label>
                    <select id="wordlistSelectMulti">
                        <option value="cet6">ÂÖ≠Á∫ß</option>
                        <option value="ielts">ÈõÖÊÄù</option>
                        <option value="x">X</option>
                    </select>
                </div>
                <button id="newGameBtnMulti" class="new-game-button">NEW</button>
            </div>
            <!-- Game Grids Container -->
            <div class="game-container">
                <div class="player-section">
                    <div class="player-header">
                        <span id="player1Name" class="player-name">Êàë</span>
                        <span id="player1Status" class="player-status"></span>
                    </div>
                    <div id="gameGridMulti" class="game-grid"></div>
                    <!-- Keyboard only shows for current player -->
                    <div id="keyboardMulti" class="keyboard">
                        <div class="keyboard-row">
                            <button class="key" data-key="Q">Q</button>
                            <button class="key" data-key="W">W</button>
                            <button class="key" data-key="E">E</button>
                            <button class="key" data-key="R">R</button>
                            <button class="key" data-key="T">T</button>
                            <button class="key" data-key="Y">Y</button>
                            <button class="key" data-key="U">U</button>
                            <button class="key" data-key="I">I</button>
                            <button class="key" data-key="O">O</button>
                            <button class="key" data-key="P">P</button>
                            <button id="backspaceBtnMulti" class="key backspace-key">‚å´</button>
                        </div>
                        <div class="keyboard-row">
                            <button class="key" data-key="A">A</button>
                            <button class="key" data-key="S">S</button>
                            <button class="key" data-key="D">D</button>
                            <button class="key" data-key="F">F</button>
                            <button class="key" data-key="G">G</button>
                            <button class="key" data-key="H">H</button>
                            <button class="key" data-key="J">J</button>
                            <button class="key" data-key="K">K</button>
                            <button class="key" data-key="L">L</button>
                        </div>
                        <div class="keyboard-row">
                            <button class="key" data-key="Z">Z</button>
                            <button class="key" data-key="X">X</button>
                            <button class="key" data-key="C">C</button>
                            <button class="key" data-key="V">V</button>
                            <button class="key" data-key="B">B</button>
                            <button class="key" data-key="N">N</button>
                            <button class="key" data-key="M">M</button>
                            <button id="enterBtnMulti" class="key enter-key">ENTER</button>
                        </div>
                    </div>
                </div>
                <div id="opponentSection" class="player-section" style="display: none;">
                    <div class="player-header">
                        <span id="player2Name" class="player-name">ÂØπÊâã</span>
                        <span id="player2Status" class="player-status"></span>
                    </div>
                    <div id="opponentGrid" class="game-grid"></div>
                </div>
            </div>
            <div id="messageMulti" class="message"></div>
        </div>
    </div>

    <!-- Word Info Modal -->
    <div id="wordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Game Over</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="word-info">
                    <div class="word-title">
                        <span id="modalWord" class="word-text"></span>
                        <span id="modalPhonetic" class="phonetic"></span>
                        <button id="playPronunciation" class="pronounce-btn">üîä</button>
                    </div>
                    <div id="modalMeanings" class="meanings"></div>
                    <div id="modalExamples" class="examples"></div>
                </div>
                <div id="modalLoading" class="loading">Loading...</div>
                <div id="modalError" class="error" style="display: none;">Failed to load word information</div>
            </div>
            <div class="modal-footer">
                <button id="modalNewGame" class="modal-btn new-game-btn">New Game</button>
                <button id="modalClose" class="modal-btn close-btn">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js?v=10"></script>
</body>

</html>